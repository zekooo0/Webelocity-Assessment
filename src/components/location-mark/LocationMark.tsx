import { LocationMarkerProps } from "@/types";

export default function LocationMarker({
  backgroundColor,
  title,
  position,
  titlePosition = "left",
}: LocationMarkerProps) {
  const isRight = titlePosition === "right";
  return {
    position,
    icon: {
      url: `data:image/svg+xml,${encodeURIComponent(`
          <svg width="200" height="40" viewBox="0 0 200 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            ${
              isRight
                ? `
              <g>
                <rect x="17" y="0" width="40" height="40" rx="20" fill="${backgroundColor}"/>
                <rect x="57" y="0" width="120" height="40" rx="20" fill="${backgroundColor}"/>
                <text x="77" y="25" fill="white" font-family="Arial" font-size="14">${title}</text>
                <path transform="translate(28 8)" fill-rule="evenodd" clip-rule="evenodd" d="M0.5 9.31761C0.5 4.41859 4.40501 0.424316 9.25 0.424316C14.095 0.424316 18 4.41859 18 9.31761C18 11.6827 17.326 14.2222 16.1344 16.4162C14.9444 18.6074 13.2056 20.5115 11.0305 21.5282C9.90057 22.0564 8.59943 22.0564 7.46949 21.5282C5.29437 20.5115 3.55562 18.6074 2.36556 16.4162C1.17403 14.2222 0.5 11.6827 0.5 9.31761ZM9.25 1.92432C5.25843 1.92432 2 5.2218 2 9.31761C2 11.4147 2.60263 13.7097 3.6837 15.7003C4.76624 17.6936 6.29602 19.324 8.10465 20.1693C8.83205 20.5093 9.66795 20.5093 10.3954 20.1693C12.204 19.324 13.7338 17.6936 14.8163 15.7003C15.8974 13.7097 16.5 11.4147 16.5 9.31761C16.5 5.2218 13.2416 1.92432 9.25 1.92432ZM9.25 6.92432C8.00736 6.92432 7 7.93168 7 9.17432C7 10.417 8.00736 11.4243 9.25 11.4243C10.4926 11.4243 11.5 10.417 11.5 9.17432C11.5 7.93168 10.4926 6.92432 9.25 6.92432ZM5.5 9.17432C5.5 7.10325 7.17893 5.42432 9.25 5.42432C11.3211 5.42432 13 7.10325 13 9.17432C13 11.2454 11.3211 12.9243 9.25 12.9243C7.17893 12.9243 5.5 11.2454 5.5 9.17432Z" fill="white"/>
              </g>
            `
                : `
              <g>
                <rect x="0.5" y="0" width="120" height="40" rx="20" fill="${backgroundColor}"/>
                <text x="27" y="25" fill="white" font-family="Arial" font-size="14">${title}</text>
                <rect x="120.5" y="0" width="40" height="40" rx="20" fill="${backgroundColor}"/>
                <path transform="translate(131 8)" fill-rule="evenodd" clip-rule="evenodd" d="M0.5 9.31761C0.5 4.41859 4.40501 0.424316 9.25 0.424316C14.095 0.424316 18 4.41859 18 9.31761C18 11.6827 17.326 14.2222 16.1344 16.4162C14.9444 18.6074 13.2056 20.5115 11.0305 21.5282C9.90057 22.0564 8.59943 22.0564 7.46949 21.5282C5.29437 20.5115 3.55562 18.6074 2.36556 16.4162C1.17403 14.2222 0.5 11.6827 0.5 9.31761ZM9.25 1.92432C5.25843 1.92432 2 5.2218 2 9.31761C2 11.4147 2.60263 13.7097 3.6837 15.7003C4.76624 17.6936 6.29602 19.324 8.10465 20.1693C8.83205 20.5093 9.66795 20.5093 10.3954 20.1693C12.204 19.324 13.7338 17.6936 14.8163 15.7003C15.8974 13.7097 16.5 11.4147 16.5 9.31761C16.5 5.2218 13.2416 1.92432 9.25 1.92432ZM9.25 6.92432C8.00736 6.92432 7 7.93168 7 9.17432C7 10.417 8.00736 11.4243 9.25 11.4243C10.4926 11.4243 11.5 10.417 11.5 9.17432C11.5 7.93168 10.4926 6.92432 9.25 6.92432ZM5.5 9.17432C5.5 7.10325 7.17893 5.42432 9.25 5.42432C11.3211 5.42432 13 7.10325 13 9.17432C13 11.2454 11.3211 12.9243 9.25 12.9243C7.17893 12.9243 5.5 11.2454 5.5 9.17432Z" fill="white"/>
              </g>
            `
            }
          </svg>
        `)}`,
    },
  };
}
